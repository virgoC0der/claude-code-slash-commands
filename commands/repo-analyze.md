# ğŸš€ ä»£ç ä»“åº“æ™ºèƒ½åä½œåˆ†æå·¥å…·

ä½¿ç”¨ Gemini CLI å’Œ Claude Code åä½œæ·±åº¦åˆ†æä»£ç ä»“åº“ã€‚

**åˆ†æå‚æ•°**: $ARGUMENTS

## ğŸ“‹ æ”¯æŒçš„åˆ†æç±»å‹

- `architecture` - æ¶æ„å’Œè®¾è®¡æ¨¡å¼åˆ†æ
- `functions` - å‡½æ•°æ¥å£å’Œè°ƒç”¨å…³ç³»åˆ†æ  
- `quality` - ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§è¯„ä¼°
- `security` - å®‰å…¨æ¼æ´å’Œé£é™©æ‰«æ
- `performance` - æ€§èƒ½ç“¶é¢ˆå’Œä¼˜åŒ–å»ºè®®
- `documentation` - è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ
- `full` - å®Œæ•´çš„ç»¼åˆåˆ†æï¼ˆæ¨èï¼‰

## ğŸ”§ ç¯å¢ƒæ£€æŸ¥å’Œåˆå§‹åŒ–

### 1. éªŒè¯å·¥å…·å¯ç”¨æ€§

```bash
# æ£€æŸ¥ Gemini CLI
`which gemini > /dev/null 2>&1 || (echo "âŒ Gemini CLI æœªå®‰è£…ï¼Œè¯·è¿è¡Œ: npm install -g @google/gemini-cli" && exit 1)`

# éªŒè¯ä»“åº“è·¯å¾„
`[[ -d "${2:-.}" ]] || (echo "âŒ ä»“åº“è·¯å¾„ä¸å­˜åœ¨: ${2:-.}" && exit 1)`
```

### 2. è®¾ç½®å·¥ä½œç¯å¢ƒ

```bash
# è®¾ç½®å˜é‡
ANALYSIS_TYPE="${1:-full}"
REPO_PATH="${2:-.}"
OUTPUT_DIR="${3:-./analysis_results_$(date +%Y%m%d_%H%M%S)}"

# åˆ›å»ºè¾“å‡ºç›®å½•ç»“æ„
`mkdir -p "$OUTPUT_DIR"/{raw_data,reports,documentation,metrics}`
`echo "ğŸ“ è¾“å‡ºç›®å½•åˆ›å»ºæˆåŠŸ: $OUTPUT_DIR"`

# è®°å½•åˆ†æå…ƒæ•°æ®
`cat > "$OUTPUT_DIR/metadata.json" << EOF
{
  "analysis_type": "$ANALYSIS_TYPE",
  "repository_path": "$(realpath "$REPO_PATH")",
  "start_time": "$(date -u +"%Y-%m-%dT%H:%M:%SZ")",
  "tools": {
    "gemini_version": "$(gemini --version 2>/dev/null || echo 'unknown')",
    "claude_model": "claude-3-5-sonnet-20241022"
  }
}
EOF`
```

## ğŸ” ç¬¬ä¸€é˜¶æ®µï¼šGemini å…¨å±€æ‰«æåˆ†æ

### æ¶æ„æ‰«æï¼ˆåˆ©ç”¨1M Tokenä¼˜åŠ¿ï¼‰

```bash
`echo "ğŸ” å¼€å§‹Geminiå…¨å±€æ¶æ„æ‰«æ..."`

# æ”¶é›†ä»“åº“ç»Ÿè®¡ä¿¡æ¯
`echo "ğŸ“Š ä»“åº“ç»Ÿè®¡:" && find "$REPO_PATH" -type f -name "*.{js,py,java,cpp,go,rs,ts,jsx,vue}" 2>/dev/null | wc -l | xargs -I {} echo "æºä»£ç æ–‡ä»¶æ•°: {}"`

# æ‰§è¡Œå…¨å±€æ¶æ„åˆ†æ
`gemini -p "
 @$REPO_PATH
è¯·å¯¹è¿™ä¸ªä»£ç ä»“åº“è¿›è¡Œå…¨é¢çš„æ¶æ„åˆ†æï¼š

1. é¡¹ç›®ç»“æ„å’Œç»„ç»‡
   - è¯†åˆ«ä¸»è¦ç›®å½•ç»“æ„å’Œå…¶ç”¨é€”
   - åˆ†ææ¨¡å—åˆ’åˆ†ç­–ç•¥
   - è¯„ä¼°ä»£ç ç»„ç»‡çš„åˆç†æ€§

2. æŠ€æœ¯æ ˆè¯†åˆ«
   - ä¸»è¦ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶
   - ä¾èµ–ç®¡ç†å’Œç¬¬ä¸‰æ–¹åº“
   - æ„å»ºå’Œéƒ¨ç½²å·¥å…·é“¾

3. æ¶æ„æ¨¡å¼
   - è¯†åˆ«ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼ï¼ˆMVC, MVVM, å¾®æœåŠ¡ç­‰ï¼‰
   - åˆ†æåˆ†å±‚æ¶æ„
   - è¯„ä¼°æ¶æ„çš„å¯æ‰©å±•æ€§

4. æ ¸å¿ƒç»„ä»¶
   - åˆ—å‡ºå…³é”®ä¸šåŠ¡æ¨¡å—
   - åˆ†ææ ¸å¿ƒæ•°æ®æ¨¡å‹
   - è¯†åˆ«å…³é”®æ¥å£å’ŒæœåŠ¡

5. ä¾èµ–å…³ç³»
   - æ¨¡å—é—´çš„ä¾èµ–å…³ç³»å›¾
   - å¾ªç¯ä¾èµ–æ£€æµ‹
   - è€¦åˆåº¦åˆ†æ

è¯·ä»¥JSONæ ¼å¼è¾“å‡ºï¼ŒåŒ…å«ï¼š
{
  'project_overview': {...},
  'architecture_pattern': {...},
  'core_components': [...],
  'dependencies': {...},
  'quality_metrics': {...},
  'recommendations': [...]
}
"> "$OUTPUT_DIR/raw_data/gemini_architecture.json"`

`echo "âœ… æ¶æ„æ‰«æå®Œæˆ"`
```

### åŠŸèƒ½æ¨¡å—æ·±åº¦åˆ†æ

```bash
`echo "ğŸ” å¼€å§‹åŠŸèƒ½æ¨¡å—åˆ†æ..."`

# åˆ†æä¸»è¦æºä»£ç ç›®å½•
`gemini -p "
 @$REPO_PATH
åˆ†æä»£ç ä»“åº“ä¸­çš„æ‰€æœ‰åŠŸèƒ½æ¨¡å—ï¼Œå¯¹æ¯ä¸ªæ¨¡å—æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š

1. æ¨¡å—åŠŸèƒ½è¯†åˆ«
   - æ¨¡å—çš„ä¸»è¦èŒè´£å’ŒåŠŸèƒ½
   - å¯¹å¤–æš´éœ²çš„å…¬å…±æ¥å£
   - æ¨¡å—çš„ä½¿ç”¨åœºæ™¯

2. å‡½æ•°å’Œæ–¹æ³•åˆ†æ
   - åˆ—å‡ºæ‰€æœ‰å…¬å…±å‡½æ•°/æ–¹æ³•
   - åˆ†æå‡½æ•°ç­¾åå’Œå‚æ•°
   - è¯†åˆ«è¿”å›å€¼ç±»å‹å’Œå¼‚å¸¸

3. æ•°æ®æµåˆ†æ
   - è¾“å…¥æ•°æ®çš„å¤„ç†æµç¨‹
   - æ•°æ®è½¬æ¢å’ŒéªŒè¯é€»è¾‘
   - è¾“å‡ºæ•°æ®çš„æ ¼å¼åŒ–

4. è°ƒç”¨å…³ç³»
   - å†…éƒ¨å‡½æ•°è°ƒç”¨é“¾
   - å¤–éƒ¨ä¾èµ–è°ƒç”¨
   - å›è°ƒå’Œäº‹ä»¶å¤„ç†

5. ä½¿ç”¨ç¤ºä¾‹ç”Ÿæˆ
   - ä¸ºä¸»è¦åŠŸèƒ½ç”Ÿæˆè°ƒç”¨ç¤ºä¾‹
   - æœ€ä½³å®è·µå»ºè®®
   - å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

è¾“å‡ºæ ¼å¼è¦æ±‚ï¼š
{
  'modules': [
    {
      'name': 'æ¨¡å—å',
      'path': 'æ–‡ä»¶è·¯å¾„',
      'description': 'åŠŸèƒ½æè¿°',
      'public_functions': [...],
      'usage_examples': [...],
      'dependencies': [...]
    }
  ]
}
" > "$OUTPUT_DIR/raw_data/gemini_functions.json"`

`echo "âœ… åŠŸèƒ½æ¨¡å—åˆ†æå®Œæˆ"`
```

## ğŸ¯ ç¬¬äºŒé˜¶æ®µï¼šClaude ç²¾ç»†åŒ–å¤„ç†

### ä»£ç è´¨é‡æ·±åº¦è¯„ä¼°

åŸºäº Gemini çš„å…¨å±€åˆ†æç»“æœï¼Œæˆ‘ç°åœ¨è¿›è¡Œç²¾ç»†åŒ–çš„ä»£ç è´¨é‡åˆ†æï¼š

```bash
# è¯»å–Geminiåˆ†æç»“æœ
READ_FILE "$OUTPUT_DIR/raw_data/gemini_architecture.json"
READ_FILE "$OUTPUT_DIR/raw_data/gemini_functions.json"
```

ç°åœ¨åŸºäºè¿™äº›æ•°æ®è¿›è¡Œæ·±åº¦åˆ†æï¼š

#### 1. ä»£ç å¤æ‚åº¦åˆ†æ

- **åœˆå¤æ‚åº¦è¯„ä¼°**: è¯†åˆ«å¤æ‚åº¦è¿‡é«˜çš„å‡½æ•°
- **è®¤çŸ¥å¤æ‚åº¦**: è¯„ä¼°ä»£ç çš„å¯è¯»æ€§å’Œç†è§£éš¾åº¦
- **åµŒå¥—æ·±åº¦**: æ£€æŸ¥è¿‡æ·±çš„æ§åˆ¶æµåµŒå¥—
- **ä»£ç é‡å¤**: è¯†åˆ«é‡å¤ä»£ç å—

#### 2. æœ€ä½³å®è·µæ£€æŸ¥

- **å‘½åè§„èŒƒ**: å˜é‡ã€å‡½æ•°ã€ç±»çš„å‘½åä¸€è‡´æ€§
- **é”™è¯¯å¤„ç†**: å¼‚å¸¸æ•è·å’Œé”™è¯¯ä¼ æ’­æœºåˆ¶
- **æ—¥å¿—è®°å½•**: æ—¥å¿—çº§åˆ«å’Œå†…å®¹çš„åˆç†æ€§
- **æ³¨é‡Šè´¨é‡**: ä»£ç æ³¨é‡Šçš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§

#### 3. æ€§èƒ½åˆ†æ

- **ç®—æ³•å¤æ‚åº¦**: è¯†åˆ«O(nÂ²)åŠä»¥ä¸Šçš„ä½æ•ˆç®—æ³•
- **æ•°æ®åº“æŸ¥è¯¢**: N+1æŸ¥è¯¢é—®é¢˜æ£€æµ‹
- **å†…å­˜æ³„æ¼é£é™©**: æœªé‡Šæ”¾çš„èµ„æºå’Œå¾ªç¯å¼•ç”¨
- **å¹¶å‘é—®é¢˜**: ç«æ€æ¡ä»¶å’Œæ­»é”é£é™©

### å®‰å…¨æ¼æ´æ‰«æ

```bash
`echo "ğŸ”’ å¼€å§‹å®‰å…¨æ€§åˆ†æ..."`
```

æ‰§è¡Œå®‰å…¨æ£€æŸ¥ï¼š

1. **è¾“å…¥éªŒè¯**
   - SQLæ³¨å…¥é£é™©ç‚¹
   - XSSæ”»å‡»å‘é‡
   - è·¯å¾„éå†æ¼æ´

2. **è®¤è¯å’Œæˆæƒ**
   - ç¡¬ç¼–ç å‡­è¯æ£€æµ‹
   - å¼±åŠ å¯†ç®—æ³•ä½¿ç”¨
   - æƒé™æå‡æ¼æ´

3. **æ•°æ®ä¿æŠ¤**
   - æ•æ„Ÿæ•°æ®æ³„éœ²
   - ä¸å®‰å…¨çš„æ•°æ®ä¼ è¾“
   - æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯

## ğŸ“ ç¬¬ä¸‰é˜¶æ®µï¼šæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ

### API æ–‡æ¡£ç”Ÿæˆ

åŸºäºåˆ†æç»“æœï¼Œç”Ÿæˆå®Œæ•´çš„APIæ–‡æ¡£ï¼š

```bash
WRITE_FILE "$OUTPUT_DIR/documentation/API.md" "# API æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£åŸºäºä»£ç ä»“åº“è‡ªåŠ¨åˆ†æç”Ÿæˆï¼ŒåŒ…å«æ‰€æœ‰å…¬å…±APIçš„è¯¦ç»†è¯´æ˜ã€‚

## æ¨¡å—åˆ—è¡¨

[åŸºäºåˆ†æç»“æœç”Ÿæˆæ¨¡å—åˆ—è¡¨å’ŒAPIè¯¦æƒ…]

## ä½¿ç”¨ç¤ºä¾‹

[ä¸ºæ¯ä¸ªä¸»è¦APIæä¾›è°ƒç”¨ç¤ºä¾‹]

## é”™è¯¯å¤„ç†

[è¯´æ˜é”™è¯¯ç å’Œå¼‚å¸¸å¤„ç†æ–¹å¼]
"
```

### æ¶æ„æ–‡æ¡£ç”Ÿæˆ

```bash
WRITE_FILE "$OUTPUT_DIR/documentation/ARCHITECTURE.md" "# ç³»ç»Ÿæ¶æ„æ–‡æ¡£

## æ¶æ„æ¦‚è§ˆ

[åŸºäºGeminiåˆ†æç”Ÿæˆæ¶æ„æè¿°]

## æŠ€æœ¯æ ˆ

[åˆ—å‡ºè¯†åˆ«çš„æŠ€æœ¯æ ˆ]

## æ ¸å¿ƒç»„ä»¶

[æè¿°å„ä¸ªæ ¸å¿ƒç»„ä»¶åŠå…¶èŒè´£]

## æ•°æ®æµå›¾

\`\`\`mermaid
graph TD
    A[å®¢æˆ·ç«¯] --> B[APIç½‘å…³]
    B --> C[ä¸šåŠ¡æœåŠ¡]
    C --> D[æ•°æ®å±‚]
\`\`\`

## éƒ¨ç½²æ¶æ„

[æè¿°éƒ¨ç½²ç»“æ„å’Œè¦æ±‚]
"
```

### å¼€å‘è€…æŒ‡å—

```bash
WRITE_FILE "$OUTPUT_DIR/documentation/DEVELOPER_GUIDE.md" "# å¼€å‘è€…æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡
[å¼€å‘ç¯å¢ƒé…ç½®è¯´æ˜]

### é¡¹ç›®ç»“æ„
[è¯¦ç»†çš„ç›®å½•ç»“æ„è¯´æ˜]

### å¼€å‘æµç¨‹
[ä»£ç æäº¤ã€å®¡æŸ¥ã€æµ‹è¯•æµç¨‹]

## æ ¸å¿ƒæ¦‚å¿µ

[è§£é‡Šé¡¹ç›®ä¸­çš„å…³é”®æ¦‚å¿µå’Œæœ¯è¯­]

## å¸¸è§ä»»åŠ¡

### æ·»åŠ æ–°åŠŸèƒ½
[æ­¥éª¤è¯´æ˜å’Œç¤ºä¾‹]

### è°ƒè¯•æŒ‡å—
[è°ƒè¯•å·¥å…·å’ŒæŠ€å·§]

### æ€§èƒ½ä¼˜åŒ–
[æ€§èƒ½åˆ†æå’Œä¼˜åŒ–æ–¹æ³•]

## FAQ

[å¸¸è§é—®é¢˜å’Œè§£ç­”]
"
```

## ğŸ“Š ç¬¬å››é˜¶æ®µï¼šç»“æœæ•´åˆå’ŒæŠ¥å‘Šç”Ÿæˆ

### ç”Ÿæˆç»¼åˆåˆ†ææŠ¥å‘Š

```bash
`echo "ğŸ“Š ç”Ÿæˆç»¼åˆåˆ†ææŠ¥å‘Š..."`

WRITE_FILE "$OUTPUT_DIR/reports/comprehensive_analysis.md" "# ä»£ç ä»“åº“ç»¼åˆåˆ†ææŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: $(date)
**ä»“åº“è·¯å¾„**: $REPO_PATH
**åˆ†æç±»å‹**: $ANALYSIS_TYPE

## æ‰§è¡Œæ‘˜è¦

é€šè¿‡ Gemini CLI (1M tokenä¸Šä¸‹æ–‡) å’Œ Claude Code çš„åä½œåˆ†æï¼Œæˆ‘ä»¬å¯¹ä»£ç ä»“åº“è¿›è¡Œäº†å…¨é¢è¯„ä¼°ã€‚

### å…³é”®å‘ç°

- **ä»£ç è§„æ¨¡**: [ä»åˆ†æä¸­æå–]
- **æŠ€æœ¯å€ºåŠ¡è¯„çº§**: [åŸºäºè´¨é‡åˆ†æè¯„å®š]
- **å®‰å…¨é£é™©ç­‰çº§**: [åŸºäºå®‰å…¨æ‰«æç»“æœ]
- **æ–‡æ¡£å®Œæ•´åº¦**: [åŸºäºæ–‡æ¡£åˆ†æ]

## è¯¦ç»†åˆ†æç»“æœ

### 1. æ¶æ„è´¨é‡è¯„ä¼°

[åŸºäºGeminiå’ŒClaudeçš„åˆ†æç»“æœ]

### 2. ä»£ç è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡ | åˆ†å€¼ | è¯„çº§ | å»ºè®® |
|------|------|------|------|
| å¯ç»´æŠ¤æ€§ | - | - | - |
| å¯æµ‹è¯•æ€§ | - | - | - |
| å¤æ‚åº¦ | - | - | - |
| é‡å¤åº¦ | - | - | - |

### 3. å®‰å…¨æ€§è¯„ä¼°

[åˆ—å‡ºå‘ç°çš„å®‰å…¨é—®é¢˜å’Œä¿®å¤å»ºè®®]

### 4. æ€§èƒ½åˆ†æ

[æ€§èƒ½ç“¶é¢ˆå’Œä¼˜åŒ–å»ºè®®]

## è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³å¤„ç†ï¼ˆP0ï¼‰
1. [å…³é”®å®‰å…¨æ¼æ´]
2. [ä¸¥é‡æ€§èƒ½é—®é¢˜]

### çŸ­æœŸæ”¹è¿›ï¼ˆP1ï¼‰
1. [ä»£ç è´¨é‡é—®é¢˜]
2. [æ¶æ„ä¼˜åŒ–]

### é•¿æœŸè§„åˆ’ï¼ˆP2ï¼‰
1. [æŠ€æœ¯å€ºåŠ¡æ¸…ç†]
2. [æ¶æ„é‡æ„]

## å·¥å…·åä½œä¼˜åŠ¿

- **Gemini CLI**: æä¾›äº†å®Œæ•´çš„å…¨å±€è§†å›¾å’Œä¸Šä¸‹æ–‡ç†è§£
- **Claude Code**: æä¾›äº†ç²¾ç»†çš„ä»£ç åˆ†æå’Œæ–‡æ¡£ç”Ÿæˆ
- **åä½œæ•ˆæœ**: å®ç°äº†1+1>2çš„åˆ†ææ•ˆæœ

## é™„å½•

- åŸå§‹æ•°æ®: $OUTPUT_DIR/raw_data/
- APIæ–‡æ¡£: $OUTPUT_DIR/documentation/API.md
- æ¶æ„æ–‡æ¡£: $OUTPUT_DIR/documentation/ARCHITECTURE.md
- å¼€å‘æŒ‡å—: $OUTPUT_DIR/documentation/DEVELOPER_GUIDE.md
"
```

### ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Š

```bash
WRITE_FILE "$OUTPUT_DIR/reports/metrics_dashboard.html" "<DOCTYPE html>
<html>
<head>
    <title>ä»£ç åˆ†æä»ªè¡¨æ¿</title>
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .metric-card { 
            border: 1px solid #ddd; 
            padding: 15px; 
            margin: 10px; 
            border-radius: 5px;
            display: inline-block;
            width: 45%;
        }
        h1 { color: #333; }
        .chart { width: 100%; height: 400px; }
    </style>
</head>
<body>
    <h1>ä»£ç ä»“åº“åˆ†æä»ªè¡¨æ¿</h1>
    
    <div class='metric-card'>
        <h3>ä»£ç è´¨é‡åˆ†å¸ƒ</h3>
        <div id='quality-chart' class='chart'></div>
    </div>
    
    <div class='metric-card'>
        <h3>æ¨¡å—å¤æ‚åº¦</h3>
        <div id='complexity-chart' class='chart'></div>
    </div>
    
    <div class='metric-card'>
        <h3>æŠ€æœ¯å€ºåŠ¡è¶‹åŠ¿</h3>
        <div id='debt-chart' class='chart'></div>
    </div>
    
    <div class='metric-card'>
        <h3>æµ‹è¯•è¦†ç›–ç‡</h3>
        <div id='coverage-chart' class='chart'></div>
    </div>
    
    <script>
        // [åŸºäºåˆ†ææ•°æ®ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨çš„JavaScriptä»£ç ]
    </script>
</body>
</html>"
```

## ğŸ¯ æ‰§è¡Œå®Œæˆå’Œæ¸…ç†

```bash
# è®°å½•å®Œæˆæ—¶é—´
`echo "{\"end_time\": \"$(date -u +"%Y-%m-%dT%H:%M:%SZ")\"}" >> "$OUTPUT_DIR/metadata.json"`

# ç”Ÿæˆæ‘˜è¦
`echo ""`
`echo "========================================"`
`echo "âœ… ä»£ç ä»“åº“åˆ†æå®Œæˆï¼"`
`echo "========================================"`
`echo ""`
`echo "ğŸ“ ç»“æœç›®å½•: $OUTPUT_DIR"`
`echo ""`
`echo "ğŸ“Š ä¸»è¦è¾“å‡º:"`
`echo "  â€¢ ç»¼åˆæŠ¥å‘Š: $OUTPUT_DIR/reports/comprehensive_analysis.md"`
`echo "  â€¢ APIæ–‡æ¡£: $OUTPUT_DIR/documentation/API.md"`
`echo "  â€¢ æ¶æ„æ–‡æ¡£: $OUTPUT_DIR/documentation/ARCHITECTURE.md"`
`echo "  â€¢ å¼€å‘æŒ‡å—: $OUTPUT_DIR/documentation/DEVELOPER_GUIDE.md"`
`echo "  â€¢ å¯è§†åŒ–ä»ªè¡¨æ¿: $OUTPUT_DIR/reports/metrics_dashboard.html"`
`echo ""`
`echo "ğŸ“ˆ åˆ†æç»Ÿè®¡:"`
`ls -la "$OUTPUT_DIR/raw_data/" | tail -n +2 | wc -l | xargs -I {} echo "  â€¢ Geminiåˆ†ææ–‡ä»¶: {} ä¸ª"`
`find "$OUTPUT_DIR/documentation" -name "*.md" | wc -l | xargs -I {} echo "  â€¢ ç”Ÿæˆæ–‡æ¡£: {} ä»½"`
`echo ""`
`echo "ğŸ’¡ ä¸‹ä¸€æ­¥å»ºè®®:"`
`echo "  1. æŸ¥çœ‹ç»¼åˆåˆ†ææŠ¥å‘Šäº†è§£æ•´ä½“æƒ…å†µ"`
`echo "  2. æ ¹æ®ä¼˜å…ˆçº§å¤„ç†å‘ç°çš„é—®é¢˜"`
`echo "  3. ä½¿ç”¨ç”Ÿæˆçš„æ–‡æ¡£æ›´æ–°é¡¹ç›®æ–‡æ¡£"`
`echo "  4. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä»ªè¡¨æ¿æŸ¥çœ‹å¯è§†åŒ–æ•°æ®"`
```

## ğŸ› ï¸ é«˜çº§é€‰é¡¹å’Œè‡ªå®šä¹‰

### æ‰¹é‡å¤„ç†å¤§å‹ä»“åº“

å¯¹äºè¶…å¤§å‹ä»“åº“ï¼ˆ>10ä¸‡æ–‡ä»¶ï¼‰ï¼Œä½¿ç”¨åˆ†æ‰¹å¤„ç†ï¼š

```bash
# å¦‚æœæ£€æµ‹åˆ°å¤§å‹ä»“åº“ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°æ‰¹å¤„ç†æ¨¡å¼
`FILE_COUNT=$(find "$REPO_PATH" -type f | wc -l)`
`if [ $FILE_COUNT -gt 100000 ]; then
    echo "âš ï¸ æ£€æµ‹åˆ°å¤§å‹ä»“åº“ ($FILE_COUNT æ–‡ä»¶)ï¼Œåˆ‡æ¢åˆ°æ‰¹å¤„ç†æ¨¡å¼..."
    
    # åˆ†æ‰¹å¤„ç†é€»è¾‘
    find "$REPO_PATH" -type f -name "*.{js,py,java}" | 
    split -l 1000 - "$OUTPUT_DIR/batch_" 
    
    for batch in "$OUTPUT_DIR"/batch_*; do
        gemini -p "åˆ†æè¿™æ‰¹æ–‡ä»¶  @$batch" >> "$OUTPUT_DIR/batch_results.jsonl"
        sleep 1  # é¿å…APIé™æµ
    done
fi`
```

### å¢é‡åˆ†ææ¨¡å¼

ä»…åˆ†æè‡ªä¸Šæ¬¡åˆ†æåçš„å˜æ›´ï¼š

```bash
# æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸Šæ¬¡åˆ†æè®°å½•
`if [ -f ".last_analysis_hash" ]; then
    echo "ğŸ”„ æ£€æµ‹åˆ°ä¸Šæ¬¡åˆ†æè®°å½•ï¼Œæ‰§è¡Œå¢é‡åˆ†æ..."
    
    # è·å–å˜æ›´æ–‡ä»¶åˆ—è¡¨
    git diff --name-only $(cat .last_analysis_hash) HEAD > "$OUTPUT_DIR/changed_files.txt"
    
    # ä»…åˆ†æå˜æ›´æ–‡ä»¶
    gemini -p "åˆ†æè¿™äº›å˜æ›´æ–‡ä»¶çš„å½±å“ @$OUTPUT_DIR/changed_files.txt"
fi`

# ä¿å­˜å½“å‰æäº¤å“ˆå¸Œ
`git rev-parse HEAD > .last_analysis_hash`
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

```bash
# åˆ†æå½“å‰ç›®å½•ï¼Œé»˜è®¤å®Œæ•´åˆ†æ
/repo-analyze full

# åˆ†ææŒ‡å®šä»“åº“
/repo-analyze full /path/to/repo

# ä»…æ¶æ„åˆ†æ
/repo-analyze architecture ./my-project ./output

# ä»…ç”Ÿæˆæ–‡æ¡£
/repo-analyze documentation
```

### é«˜çº§ç”¨æ³•

```bash
# å®‰å…¨ä¸“é¡¹åˆ†æ
/repo-analyze security ./sensitive-project ./security-audit

# æ€§èƒ½ä¼˜åŒ–åˆ†æ
/repo-analyze performance ./slow-app ./perf-analysis

# ç»„åˆå¤šç§åˆ†æ
/repo-analyze "architecture,quality,security" ./project ./combined-output
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Gemini CLI æœªæ‰¾åˆ°**
   ```bash
   npm install -g @google/gemini-cli
   ```

2. **API é…é¢è¶…é™**
   - ä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼
   - å¢åŠ è¯·æ±‚é—´éš”
   - è€ƒè™‘å‡çº§APIè®¡åˆ’

3. **å†…å­˜ä¸è¶³**
   - å‡å°æ‰¹å¤„ç†å¤§å°
   - æ’é™¤å¤§å‹äºŒè¿›åˆ¶æ–‡ä»¶
   - ä½¿ç”¨æµå¼å¤„ç†

## ğŸ“š ç›¸å…³èµ„æº

- [Gemini CLI æ–‡æ¡£](https://github.com/google-gemini/gemini-cli)
- [Claude Code æ–‡æ¡£](https://docs.anthropic.com/en/docs/claude-code)
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io)

---

*æ­¤å‘½ä»¤é€šè¿‡ Claude Code å’Œ Gemini CLI çš„åä½œï¼Œæä¾›ä¸šç•Œé¢†å…ˆçš„ä»£ç ä»“åº“åˆ†æèƒ½åŠ›ã€‚*
